!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var n=setTimeout;function o(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void a(t.promise,e)}s(t.promise,o)}else(1===e._state?s:a)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void c((o=n,r=t,function(){o.apply(r,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}var o,r}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return r(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function r(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(e,t)},n)}o[e]=s,0==--i&&t(o)}catch(e){n(e)}}for(var s=0;s<o.length;s++)r(s,o[s])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var o=0,i=e.length;o<i;o++)e[o].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=i}).call(this,n(11).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.params=void 0,t.params={dash:{duration:15.057,codecsString:"avc1.64001F,mp4a.40.2",numberOfSegments:16,name:"stream",baseUrl:"https://ibv.streamedby.com/mindshare/ski-doo/3202/"},timings:{firstQ:3.76,secondQ:7.53,thirdQ:11.29,fourthQ:14.86},hls:'#EXTM3U\n#EXT-X-VERSION:7\n#EXT-X-TARGETDURATION:1\n#EXT-X-MEDIA-SEQUENCE:0\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXT-X-MAP:URI="https://ibv.streamedby.com/mindshare/ski-doo/3202/init.mp4"\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream0.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream1.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream2.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream3.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream4.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream5.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream6.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream7.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream8.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream9.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream10.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream11.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream12.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream13.m4s\n#EXTINF:1.001000,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream14.m4s\n#EXTINF:0.041708,\nhttps://ibv.streamedby.com/mindshare/ski-doo/3202/stream15.m4s\n#EXT-X-ENDLIST\n',smsng:"https://ibv.streamedby.com/mindshare/ski-doo/3202/smsng/stream.m3u8"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var i,r,s;try{r=(i=window.$sf||window.parent.$sf)&&i.ext;var a=o||0,u=!1;s=function(){var e=$sf.ext.inViewPercentage();e>a&&!u?(u=!0,n(!0)):e<=a&&u&&(u=!1,n(!1))}}catch(e){return!1}if(!r)return!1;try{return r.register(e,t,s),!0}catch(e){return!1}}},function(e,t,n){"use strict";function o(e,t,n){return new window.TextTrackCue(e,t,n)}function i(e,t,n){var o=e+"-"+t+"-"+n;return new window.TextTrackCue(o,e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.VTTCuePolyfill=function(){if(window.VTTCue)return!0;if(!window.TextTrackCue)return!1;var e=TextTrackCue.length;return 3==e?window.VTTCue=o:6==e?window.VTTCue=i:function(){try{return o(1,2,"")}catch(e){return!1}}()&&(window.VTTCue=o),!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CueListener=void 0;var o=n(4);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,o.VTTCuePolyfill)(),this.videoElem=t,this.textTrack=t.addTextTrack("metadata","cue"),this.loopCount=0,this.firstLoopCue=null,this.loopCue=null,this.firstRun=!0,this.cuesNotYetAdded=[],this.reportAfterLoopCount=null}var t,n;return t=e,(n=[{key:"listenToCue",value:function(e,t,n,o,i){t||(t=e+.1);var r=this.getCue(e,t,n);return r.addEventListener("enter",function(){i?o(n):o("enter",n)},!1),i||r.addEventListener("exit",function(){o("exit",n)},!1),r}},{key:"listenToCueOnce",value:function(e,t,n,o,i){var r=this,s=this.listenToCue(e,t,n,function(e,t){if("enter"===e){if(i)return o(e,t),void r.stopListenToCue(s)}else o(e,t),r.stopListenToCue(s)},i)}},{key:"stopListenToCue",value:function(e){this.textTrack.removeCue(e)}},{key:"getLoopCount",value:function(e){var t=this;this.firstLoopCue=this.getCue(.2,.5,"first loop"),this.firstLoopCue.addEventListener("enter",function(n){t.firstRun?t.firstRun=!1:(t.loopCount++,e(t.loopCount),t.loopCue=new VTTCue(t.videoElem.duration-.2,t.videoElem.duration-.1,"loop"),t.loopCue.addEventListener("enter",function(){t.loopCount++,e(t.loopCount)},!1),t.textTrack.addCue(t.loopCue),t.firstLoopCue&&(t.textTrack.removeCue(t.firstLoopCue),t.firstLoopCue=void 0))},!1)}},{key:"addEndOfLoopListener",value:function(e){}},{key:"loop",value:function(e){return this.reportAfterLoopCount=e,this}},{key:"timesThenDo",value:function(e){var t=this;if(this.reportAfterLoopCount)return this.getLoopCount(function(n){n===t.reportAfterLoopCount&&(e(),t.stopGettingLoopCount())}),this;console.warn("first call method 'loop(xTimes)'")}},{key:"stopGettingLoopCount",value:function(){this.firstLoopCue&&(this.textTrack.removeCue(this.firstLoopCue),this.firstLoopCue=void 0),this.loopCue&&(this.textTrack.removeCue(this.loopCue),this.loopCue=void 0)}},{key:"getTimingUpdatesOnce",value:function(e,t){for(var n in e)this.listenToCueOnce(e[n],e[n]+.1,n,t,!0)}},{key:"getTimingUpdatesContinously",value:function(e,t){for(var n in e)this.listenToCue(e[n],e[n]+.1,n,t,!0)}},{key:"getCue",value:function(e,t,n){var o=new VTTCue(e,t,n),i={start:e,cue:o};return this.cuesNotYetAdded.push(i),o}},{key:"lockCues",value:function(){var e=this;this.cuesNotYetAdded.sort(function(e,t){return e.start-t.start}),this.cuesNotYetAdded.forEach(function(t){e.textTrack.addCue(t.cue)})}},{key:"startListening",value:function(){this.lockCues()}},{key:"start",value:function(){this.lockCues()}}])&&i(t.prototype,n),e}();t.CueListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerUtils=void 0;var o=n(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");s(e.prototype,t&&t.prototype),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function e(t,n){c(this,e),this.videoElem=t,this.eventElem=n,this.action=void 0,this._toggleAction=void 0,this._cb=void 0}return d(e,[{key:"toggleAction",value:function(){this._toggleAction&&this._toggleAction()}},{key:"cb",value:function(e){this._cb&&this._cb(e)}},{key:"andGetCallback",value:function(e){return this._cb=e,this}},{key:"toggleClass",value:function(e){var t=this;return this._toggleAction=function(){t.eventElem&&t.eventElem.classList.toggle(e)},this}},{key:"andToggleClass",value:function(e){return this.toggleClass(e)}}]),e}(),h=function(e){function t(e,n){var o;return c(this,t),(o=a(this,u(t).call(this,e,n))).setupClick(),o}return d(t,[{key:"setupClick",value:function(){var e=this;this.eventElem.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.action&&e.action(t)},!1)}},{key:"toggleSound",get:function(){var e=this;return this.action=function(t){var n;e.videoElem.muted?(e.videoElem.muted=!1,n="unmute"):(e.videoElem.muted=!0,n="mute"),e.cb({pressed:n,originalEvent:t}),e.toggleAction()},this}},{key:"togglePlay",get:function(){var e=this;return this.action=function(t){var n;e.videoElem.paused?(e.videoElem.play(),n="play"):(e.videoElem.pause(),n="pause"),e.cb({pressed:n,originalEvent:t}),e.toggleAction()},this}}]),r(t,e),t}(f),p=function(e){function t(e){var n;return c(this,t),(n=a(this,u(t).call(this,e,null))).cssClass=void 0,n.type="add",n.eventElems=[],n}return d(t,[{key:"onElement",value:function(e){return this.eventElem=e,this.setupListening(),this}},{key:"onElements",value:function(e){return this.eventElems=e,this.setupListening(),this}},{key:"element",value:function(e){"show"===this.type&&(e.style.opacity=0,e.style.pointerEvents="none"),this.eventElems.push(e),this.setupShowListening()}},{key:"setupShowListening",value:function(){var e=this,t=function(t){"playing"===t.type&&e.eventElems.forEach(function(e){e.style.opacity=0,e.style.pointerEvents="none"}),"waiting"===t.type&&e.eventElems.forEach(function(e){e.style.opacity=1,e.style.pointerEvents="auto"})};this.videoElem.addEventListener("playing",t,!1),this.videoElem.addEventListener("waiting",t,!1)}},{key:"setupListening",value:function(){var e=this,t=function(t){var n;"playing"===t.type&&(n="add"===e.type?"remove":"add"),"waiting"===t.type&&(n=e.type),e.eventElems.length>0?e.eventElems.forEach(function(t){t.classList[n](e.cssClass)}):e.eventElem.classList[n](e.cssClass),e.cb(t)};return this.videoElem.addEventListener("playing",t,!1),this.videoElem.addEventListener("waiting",t,!1),this}},{key:"addClass",value:function(e){return this.cssClass=e,this.type="add",this}},{key:"removeClass",value:function(e){return this.cssClass=e,this.type="remove",this}},{key:"setupAddClassListener",value:function(){var e=this,t=function(t){"playing"===t.type&&e.eventElem.classList.add(e.classToToggle),"waiting"===t.type&&e.eventElem.classList.remove(e.classToToggle),e.cb(t)};return this.videoElem.addEventListener("playing",t,!1),this.videoElem.addEventListener("waiting",t,!1),this}},{key:"show",get:function(){return this.type="show",this}}]),r(t,e),t}(f),m=function(){function e(t){c(this,e),this.videoElem=t,this.cueListener=new o.CueListener(t),this.onPlayPauseCb=void 0,this.onplaying=!1,this.onpause=!1,this.playPromise=void 0}return d(e,[{key:"onClickOn",value:function(e){return new h(this.videoElem,e)}},{key:"getLoopCount",value:function(e){this.cueListener.getLoopCount(e)}},{key:"loop",value:function(e){return this.cueListener.loop(e)}},{key:"stopGettingLoopCount",value:function(){this.cueListener.stopGettingLoopCount()}},{key:"queueCue",value:function(e,t,n,o){this.cueListener.listenToCue(e,t,n,o)}},{key:"stopListenToCue",value:function(e){this.cueListener.stopListenToCue(e)}},{key:"getTimingUpdatesOnce",value:function(e,t){this.cueListener.getTimingUpdatesOnce(e,t)}},{key:"getTimingUpdatesContinously",value:function(e,t){this.cueListener.getTimingUpdatesContinously(e,t)}},{key:"startListeningToCues",value:function(){this.cueListener.lockCues()}},{key:"play",value:function(){if(this.videoElem.paused)return this.playPromise=this.videoElem.play()}},{key:"pause",value:function(){var e=this;void 0!==this.playPromise?this.playPromise.then(function(t){e.videoElem.pause()}).catch(function(e){}):this.videoElem.pause()}},{key:"whenLoading",get:function(){return new p(this.videoElem)}}]),e}();t.PlayerUtils=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamedByFaster=function(e,t){return new Promise(function(n,i){(function(e,t){var n,i,r=0,s=!1,a=void 0,u=!1,c=t,l=e.baseUrl;return new Promise(function(t,d){function f(){n.removeEventListener("updateend",f),r=1,v("".concat(l).concat(e.name,"0.m4s")).then(m)}function h(){var e=c.currentTime;clearTimeout(a),a=setTimeout(function(){c.paused||c.currentTime!==e||(c.currentTime=c.currentTime-.5)},500)}function p(){c.addEventListener("timeupdate",function t(o){if(c.currentTime>=n.buffered.end(0)-2&&!s){if(r>=e.numberOfSegments)return c.removeEventListener("timeupdate",t),void b();var i="".concat(l).concat(e.name).concat(r.toString(),".m4s");r+=1,v(i).then(h)}})}function m(){var t="".concat(l).concat(e.name).concat(r.toString(),".m4s");(r+=1)>=e.numberOfSegments?b():u?v(t).then(p):v(t).then(m)}function y(e){e&&n.appendBuffer(new Uint8Array(e))}function v(e){return s=!0,fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new Promise(function(t,o){n.addEventListener("updateend",function e(){n.removeEventListener("updateend",e),s=!1,t("appended")}),n.appendBuffer(new Uint8Array(e))})}).catch(function(e){})}function b(){n.updating||"open"!==i.readyState||i.endOfStream()}window.MediaSource||d(new Error(o.NO_MEDIA_SOURCE)),i=new MediaSource,c.src=window.URL.createObjectURL(i),i.addEventListener("sourceopen",function(){try{i.duration=e.duration,n=i.addSourceBuffer("video/mp4; codecs=".concat(e.codecsString))}catch(e){return void d(new Error(o.SOURCE_BUFFER_ERROR))}n.addEventListener("updateend",f),fetch("".concat(l,"init.mp4")).then(function(e){return e.arrayBuffer()}).then(y),t("Streaming")}),c.addEventListener("canplay",function(){u=!0})})})(e.dash,t).then(function(e){n(o.DASH)},function(r){if("maybe"===t.canPlayType("application/x-mpegURL")||"probably"===t.canPlayType("application/x-mpegURL")){try{if(navigator.userAgent.match(/SamsungBrowser/i)){if(!e.smsng)throw"no manifest for Samsung Internet";t.src=e.smsng}else e.hls?(t.type="application/vnd.apple.mpegurl",t.src="data:".concat("application/vnd.apple.mpegurl",";base64,").concat(btoa(e.hls))):t.src="".concat(e.dash.baseUrl).concat(e.name,".m3u8")}catch(e){i(e)}n(o.HLS)}else i(r)}).catch(function(e){i(e)})})},t.StreamedByMessages=void 0;var o={HLS:"HLS",DASH:"DASH",NONE:"NOT ABLE TO STREAM",SOURCE_BUFFER_ERROR:"addSourceBuffer error",NO_MEDIA_SOURCE:"Media Source Api not avilable",FETCH_ERROR:"Error fetching manifest",MANIFEST_ERROR:"Error parsing manifest"};t.StreamedByMessages=o},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=a(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];b.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=y,e.Response=b,e.fetch=function(e,n){return new Promise(function(o,i){var r=new y(e,n),s=new XMLHttpRequest;s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();t.append(o,i)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;o(new b(i,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(r.method,r.url,!0),"include"===r.credentials?s.withCredentials=!0:"omit"===r.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),r.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function h(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&o(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,o=d(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n,o,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(o=(n=t.method||this.method||"GET").toUpperCase(),r.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,i,r,s,a,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),o=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){p(e.data)},o=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,o(u),u++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(9))},function(e,t,n){(function(e){var o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();o.Promise||(o.Promise=t.a)}.call(this,n(0))},function(e,t,n){"use strict";n(12),n(8),n(21);var o,i=n(7),r=n(6),s=(o=n(3))&&o.__esModule?o:{default:o},a=n(2),u=document.querySelector.bind(document),c=u(".banner"),l=u("#video"),d=new r.PlayerUtils(l),f=u("#sound"),h=u(".play"),p=u(".logo"),m=u(".fallback"),y="mindshare-ski-doo-3202",v="mndshrescters",b=0,g=!1,T=(0,s.default)(320,400,function(e){w&&(e?C():l.pause())},25),w=!0,E=!1;function _(){!1===E&&(w=!1,c.classList.add("noautoplay"),h.classList.remove("hidden"))}function L(){l.pause(),l.currentTime=5,c.classList.add("ended"),f.classList.add("hidden"),h.classList.remove("hidden")}function C(){var e=!1;try{var t=l.play();void 0!==t&&t.then(function(){}).catch(function(t){e=!0,_()})}catch(e){_()}setTimeout(function(){0===l.currentTime&&(e||_())},2e3)}function k(e){A("https://dwdd02ymf0wbc.cloudfront.net?c=".concat(y,"&count=").concat(e,"&ord=").concat((new Date).getTime(),"&po=").concat(v))}function A(e){var t=document.createElement("img");t.src=e,t.width=1,t.height=1,t.classList.add("pxl"),c.appendChild(t)}k("impression"),A("https://ad.doubleclick.net/ddm/trackimpj/N333003.1922736AMEDIA.NO/B21832408.231768174;dc_trk_aid=429409864;dc_trk_cid=107446688;ord=".concat(Date.now(),";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?")),c.addEventListener("click",function(){window.open("".concat(window.name?decodeURI(window.name):"").concat("https://ad.doubleclick.net/ddm/trackclk/N333003.1922736AMEDIA.NO/B21832408.231768174;dc_trk_aid=429409864;dc_trk_cid=107446688;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua="),"_blank"),k("exit")},!1),(0,i.StreamedByFaster)(a.params,l).then(function(){T?d.getTimingUpdatesOnce(a.params.timings,function(e){k(e)}):(C(),k("unmeasurable")),d.onClickOn(f).toggleSound.andToggleClass("on").andGetCallback(function(e){k(e.pressed)}),d.queueCue(11.8,14.9,"hidden",function(e,t){"enter"===e?p.classList.add(t):p.classList.remove(t),"exit"===e&&2==++b&&L()}),d.startListeningToCues(),h.addEventListener("click",function(e){e.stopPropagation(),k("play"),f.classList.remove("hidden"),h.classList.add("hidden"),c.classList.remove("ended"),c.classList.remove("noautoplay"),l.currentTime=0,l.play(),l.loop=!1,g||(l.addEventListener("ended",L,!1),g=!0)},!1),l.addEventListener("playing",function(){w||(c.classList.remove("noautoplay"),h.classList.add("hidden"))},!1)},function(){E=!0,k("fallback"),m.style.backgroundImage="url(poster.jpg)",c.classList.add("ended"),f.classList.add("hidden"),h.classList.add("hidden"),l.classList.add("hidden")})},,,,,,,,function(e,t){}]);